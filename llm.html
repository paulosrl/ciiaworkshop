<!DOCTYPE html>
<html lang="pt-br">
<!-- ... c√≥digo HTML ... -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CIIA - Escrit√≥rios de Inova√ß√£o e Intelig√™ncia Artificial</title>
    <style>
        /* --- Configura√ß√£o Geral --- */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #1a2b3c;
            color: #f0f0f0;
            margin: 0;
            padding: 0;
        }
        nav {
            background: linear-gradient(135deg, #1e3a8a, #3b82f6);
            color: #ffffff;
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        nav .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 1rem;
        }
        .nav-center {
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex: 1;
            gap: 1.5rem;
            min-width: 0;
        }
        nav .logo {
            font-size: 0.9rem;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            white-space: nowrap;
        }
        nav ul {
            list-style: none;
            display: flex;
            gap: 1.8rem;
            flex-wrap: wrap;
            flex: 1;
            justify-content: center;
            margin: 0;
            padding: 0;
        }
        nav a {
            color: #ffffff;
            text-decoration: none;
            transition: color 0.3s;
            font-weight: 600;
            font-size: 0.9rem;
        }
        nav a:hover { color: #fbbf24; }
        .active-link { color: var(--gold); }
        .header-logo { display: block; object-fit: contain; flex-shrink: 0; }
        .header-logo-circular { width: 56px; height: 56px; border-radius: 50%; background: rgba(255,255,255,0.14); padding: 4px; }
        .header-logo-rectangular { width: 132px; height: auto; max-height: 56px; background: #ffffff; border-radius: 6px; padding: 4px; box-sizing: border-box; }
        footer {
            background: linear-gradient(135deg, #0f172a, #1e3a8a);
            color: #ffffff;
            padding: 3rem 2rem;
            text-align: center;
            margin-top: 2rem;
        }
        .footer-top {
            max-width: 1200px;
            margin: 0 auto 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 1rem;
        }
        .footer-logo { font-size: 1.5rem; font-weight: bold; text-align: center; flex: 1; }
        .footer-logo-slot { display: flex; align-items: center; justify-content: center; flex-shrink: 0; }
        .footer-logo-circular {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: rgba(255,255,255,0.14);
            padding: 4px;
        }
        .footer-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }
        .footer-links a { color: #ffffff; text-decoration: none; transition: color 0.3s; }
        .footer-links a:hover { color: #fbbf24; }
        .authors {
            max-width: 1200px;
            margin: 0 auto;
            padding-top: 0;
            padding-bottom: 2rem;
            text-align: center;
        }
        .authors h4 {
            color: #a3c9ff;
            font-size: 1.3rem;
            margin-bottom: 1rem;
        }
        .authors p {
            color: #dbeafe;
            font-size: 0.88rem;
            line-height: 1.8;
            margin: 0;
        }
        h1 {
            text-align: center;
            color: #ffffff;
            margin-top: 20px;
            margin-bottom: 20px;
            padding: 0 20px;
        }
        /* --- Layout Principal --- */
        .app-container {
            display: grid;
            grid-template-columns: 1fr 1.5fr; /* Coluna da esquerda menor */
            gap: 20px;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
            box-sizing: border-box;
        }
        .panel-left, .panel-right {
            background-color: #2a3d45;
            border-radius: 8px;
            padding: 25px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        .panel-left h2 {
            margin-top: 0;
            color: #00aaff;
            border-bottom: 1px solid #445;
            padding-bottom: 10px;
        }
        /* --- Coluna da Esquerda (Controles) --- */
        .input-group {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        #word-input {
            width: 100%;
            padding: 12px;
            font-size: 16px;
            background-color: #1a2b3c;
            border: 2px solid #445;
            color: #ffffff;
            border-radius: 5px;
            box-sizing: border-box; /* Garante que o padding n√£o estoure a largura */
        }
        #process-button {
            padding: 12px 20px;
            font-size: 16px;
            font-weight: bold;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        #process-button:hover {
            background-color: #0056b3;
        }
        #process-button:disabled {
            background-color: #555;
            cursor: not-allowed;
        }
        /* --- Coluna da Direita (Visualiza√ß√£o) --- */
        #visual-space {
            position: relative;
            height: 400px;
            background-color: #1a2b3c;
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid #445;
        }
        .group-bubble {
            position: absolute;
            width: 100px;
            height: 100px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #ffffff;
            transition: all 0.4s ease;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            text-align: center;
            padding: 5px;
            box-sizing: border-box;
            /* Flex para centralizar o novo conte√∫do */
            flex-direction: column;
        }
        /* Posicionamento dos grupos */
        #group-animais { top: 20px; left: 20px; background-color: #2a9d8f; }
        #group-frutas { top: 20px; right: 20px; background-color: #8ac926; }
        #group-moveis { top: 150px; left: 80px; background-color: #e9c46a; }
        #group-roupas { top: 150px; right: 80px; background-color: #f4a261; }
        #group-financeiro { bottom: 20px; left: 20px; background-color: #e76f51; }
        #group-outros { bottom: 20px; right: 20px; background-color: #6c757d; }
        .group-bubble.highlight {
            transform: scale(1.15);
            box-shadow: 0 0 25px 5px #ffffff;
        }
        /* Elemento da Palavra (Token) */
        #word-token {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #007bff;
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            font-size: 18px;
            font-weight: bold;
            opacity: 0; /* Come√ßa oculto */
            transition: all 1s ease-in-out;
            z-index: 10;
        }
        
        /* Indicadores de Processo */
        .step-indicator {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            color: #888;
            font-size: 14px;
            font-style: italic;
            opacity: 0;
            transition: opacity 0.5s ease;
            z-index: 5;
        }
        #step-tokenizer { top: 35%; }
        #step-vectorizer { top: 65%; }
        /* Anima√ß√£o para ambiguidade */
        @keyframes shake {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            25% { transform: translate(-50%, -50%) rotate(3deg); }
            50% { transform: translate(-50%, -50%) rotate(0deg); }
            75% { transform: translate(-50%, -50%) rotate(-3deg); }
            100% { transform: translate(-50%, -50%) rotate(0deg); }
        }
        #word-token.ambiguous {
            animation: shake 0.5s infinite;
        }
        /* --- Log Console --- */
        #log-container {
            margin-top: 20px;
        }
        #log-container h3 {
            margin-top: 0;
            color: #50fa7b; /* Verde console */
            border-bottom: 1px solid #445;
            padding-bottom: 10px;
        }
        #log-content {
            background-color: #111;
            color: #f0f0f0;
            font-family: "Courier New", Courier, monospace;
            height: 150px;
            overflow-y: auto;
            padding: 15px;
            border-radius: 5px;
            border: 1px solid #445;
        }
        #log-content p {
            margin: 5px 0;
            word-break: break-all;
        }
        #log-content .log-success { color: #50fa7b; }
        #log-content .log-error { color: #ff5555; }
        #log-content .log-warning { color: #ffcc00; }
        #log-content .log-info { color: #87ceeb; }
        /* --- Responsividade --- */
        @media (max-width: 900px) {
            .app-container {
                grid-template-columns: 1fr; /* Empilha as colunas */
                padding: 0 12px;
            }
            .panel-left, .panel-right { padding: 16px; }
            .panel-right {
                margin-top: 20px;
            }
            .group-bubble {
                width: 80px;
                height: 80px;
                font-size: 12px;
            }
            #group-moveis { top: 120px; }
            #group-roupas { top: 120px; }
        }
        @media (max-width: 768px) {
            nav .container { flex-direction: column; gap: 1rem; }
            .nav-center { width: 100%; flex-direction: column; gap: 1rem; }
            nav .logo { white-space: normal; text-align: center; justify-content: center; }
            .header-logo-rectangular { width: 120px; }
            .footer-top { flex-direction: column; gap: 1rem; }
            nav ul { flex-direction: column; gap: 1rem; text-align: center; }
        }
        @media (max-width: 520px) {
            #visual-space { height: 320px; }
            .group-bubble { width: 66px; height: 66px; font-size: 10px; }
            #group-moveis { top: 100px; left: 56px; }
            #group-roupas { top: 100px; right: 56px; }
            #word-token { font-size: 14px; padding: 8px 10px; }
        }
    </style>
</head>
<body>
    <nav>
        <div class="container">
            <img class="header-logo header-logo-circular" src="img/logo-muiraquita.png" alt="Logo circular Muiraquit√£">
            <div class="nav-center">
                <div class="logo">CIIA - Escrit√≥rio de Intelig√™ncia Artificial</div>
                                <ul>
                                    <li><a href="index.html">In√≠cio</a></li>
                                    <li><a href="prompts.html">Prompts</a></li>
                                    <li><a class="active-link" href="llm.html">Simulador LLM</a></li>
                                    <li><a href="videos.html">V√≠deos</a></li>
                                    <li><a href="documentos.html">Documentos</a></li>
                                </ul>
            </div>
            <img class="header-logo header-logo-rectangular" src="img/logo-mppa.png" alt="Logo retangular MPPA">
        </div>
    </nav>
    <h1 id="top">üê∏ Muiraquit√£ - Simulador de LLM</h1>
    <div class="app-container">
        <!-- Coluna da Esquerda: Controles -->
        <div class="panel-left">
            <h2>Controles</h2>
            
            <div class="input-group">
                <label for="word-input">Digite uma palavra ou frase:</label>
                <input type="text" id="word-input" placeholder="Ex: gato, banco da pra√ßa, comi uma manga...">
                <button id="process-button">Processar</button>
            </div>
            <!-- Log movido para c√° -->
            <div id="log-container">
                <h3>Log do Processo</h3>
                <div id="log-content">
                    <p class="log-info">> Aguardando entrada...</p>
                </div>
            </div>
        </div>
        <!-- Coluna da Direita: Visualiza√ß√£o e Log -->
        <div class="panel-right">
            
            <!-- Visualiza√ß√£o Gr√°fica -->
            <div id="visual-space">
                <!-- Grupos (Bolhas) -->
                <div class="group-bubble" id="group-animais" data-group="animais">Animais</div>
                <div class="group-bubble" id="group-frutas" data-group="frutas">Frutas</div>
                <div class="group-bubble" id="group-moveis" data-group="moveis">M√≥veis</div>
                <div class="group-bubble" id="group-roupas" data-group="roupas">Roupas</div>
                <div class="group-bubble" id="group-financeiro" data-group="financeiro">Financeiro</div>
                <div class="group-bubble" id="group-outros" data-group="outros">Outros</div>
                <!-- Token flutuante -->
                <div id="word-token"></div>
                <!-- Indicadores de processo -->
                <div class="step-indicator" id="step-tokenizer">Tokenizando...</div>
                <div class="step-indicator" id="step-vectorizer">Vetorizando...</div>
            </div>
            <!-- Log foi movido daqui -->
            
        </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {});
        // --- JAVASCRIPT ---
        // 1. Base de Conhecimento Simplificada
        const llmKnowledgeBase = {
            'animais': ['gato', 'cachorro', 'le√£o', 'elefante', 'passaro'],
            'frutas': ['ma√ß√£', 'banana', 'laranja', 'uva', 'manga'],
            'moveis': ['mesa', 'cadeira', 'sof√°', 'cama', 'banco'],
            'financeiro': ['banco', 'dinheiro', 'a√ß√£o', 'investimento', 'bolsa'],
            'roupas': ['camisa', 'cal√ßa', 'vestido', 'sapato', 'manga']
        };
        // Base de Conhecimento para Contexto (Atualizada para "Ra√≠zes"/Stems)
        const contextKeywords = {
            'animais': ['animal', 'voador', 'estimacao', 'estima√ß√£o', 'zoo', 'pet', 'lat', 'mia'],
            'frutas': ['fruta', 'com', 'suco', 'doce', 'comer', 'sobremesa', 'pomar'],
            'moveis': ['movel', 'm√≥vel', 'sent', 'pra√ßa', 'mobilia', 'mob√≠lia', 'madeira', 'sentar', 'sala', 'quarto'],
            'financeiro': ['dinh', 'deposit', 'dep√≥sito', 'invest', 'cont', 'pagament', 'agencia', 'ag√™ncia', 'salar', 'sal√°rio'],
            'roupas': ['camisa', 'vest', 'tec', 'costur', 'mod', 'vestuar', 'vestu√°rio', 'calc', 'cal√ßar']
        };
        // 2. Refer√™ncias do DOM
        const wordInput = document.getElementById('word-input');
        const processButton = document.getElementById('process-button');
        const logContent = document.getElementById('log-content');
        
        const visualSpace = document.getElementById('visual-space');
        const wordToken = document.getElementById('word-token');
        const stepTokenizer = document.getElementById('step-tokenizer');
        const stepVectorizer = document.getElementById('step-vectorizer');
        const allGroups = document.querySelectorAll('.group-bubble');
        // Vari√°vel para guardar o placeholder original
        const originalPlaceholder = wordInput.placeholder;
        // Armazena o texto original das bolhas
        allGroups.forEach(group => { 
            group.dataset.originalText = group.innerHTML; 
        });
        // 3. Fun√ß√µes Helper
        const delay = (ms) => new Promise(resolve => setTimeout(resolve, ms));
        function logStep(message, type = 'info') {
            const p = document.createElement('p');
            p.textContent = message;
            p.className = `log-${type}`; // log-info, log-success, log-error, log-warning
            logContent.appendChild(p);
            logContent.scrollTop = logContent.scrollHeight; // Auto-scroll
        }
        function resetVisuals() {
            // Oculta o token e indicadores
            wordToken.style.opacity = '0';
            wordToken.style.top = '50%';
            wordToken.style.left = '50%';
            wordToken.classList.remove('ambiguous');
            stepTokenizer.style.opacity = '0';
            stepVectorizer.style.opacity = '0';
            // Reseta o texto dos indicadores para o padr√£o
            stepTokenizer.textContent = "Tokenizando...";
            stepVectorizer.textContent = "Vetorizando...";
            // Remove destaque e restaura texto original
            allGroups.forEach(group => {
                group.classList.remove('highlight');
                if (group.dataset.originalText) {
                    group.innerHTML = group.dataset.originalText;
                }
            });
            
            // Restaura o placeholder original
            wordInput.placeholder = originalPlaceholder;
        }
        function setButtonsDisabled(disabled) {
            processButton.disabled = disabled;
        }
        // 4. Event Listeners
        processButton.addEventListener('click', processWord);
        wordInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') processWord();
        });
        
        // ** NOVA FUN√á√ÉO: Posiciona o token no "centro de gravidade" dos grupos **
        function positionTokenBetweenGroups(groupNames) {
            const spaceRect = visualSpace.getBoundingClientRect();
            let totalX = 0;
            let totalY = 0;
            let count = 0;
            groupNames.forEach(name => {
                const groupElement = document.querySelector(`.group-bubble[data-group="${name}"]`);
                if (groupElement) {
                    const rect = groupElement.getBoundingClientRect();
                    
                    // Calcula o centro da bolha relativo ao container visual-space
                    const centerX = (rect.left - spaceRect.left) + (rect.width / 2);
                    const centerY = (rect.top - spaceRect.top) + (rect.height / 2);
                    
                    totalX += centerX;
                    totalY += centerY;
                    count++;
                }
            });
            if (count > 0) {
                // M√©dia das posi√ß√µes (Centr√≥ide)
                const avgX = totalX / count;
                const avgY = totalY / count;
                
                wordToken.style.left = `${avgX}px`;
                wordToken.style.top = `${avgY}px`;
            }
        }
        // ** FUN√á√ÉO HELPER para l√≥gica de contexto (Mantida) **
        function resolveContext(groupsToScore, contextPhrase) {
            let resolvedGroup = null;
            let maxScore = 0;
            let scores = {};
            // Inicializa placar
            groupsToScore.forEach(group => scores[group] = 0);
            // Analisa a frase de contexto contra as palavras-chave (MODIFICADO)
            const wordsInContext = [...new Set(contextPhrase.split(' '))]; // Divide a frase em palavras
            for (const group of groupsToScore) {
                const stems = contextKeywords[group] || []; // Agora s√£o "stems" ou ra√≠zes
                for (const stem of stems) {
                    // Verifica se ALGUMA palavra na frase COME√áA COM o stem
                    if (wordsInContext.some(word => word.startsWith(stem))) {
                        scores[group]++;
                        // Damos um "break" para n√£o contar o mesmo stem v√°rias vezes para o mesmo grupo
                        // ex: "como" e "comer" na mesma frase s√≥ contam 1 ponto para "com".
                        break; 
                    }
                }
            }
            logStep(`> Pontua√ß√£o do contexto: ${JSON.stringify(scores)}`, 'info');
            // Encontra o grupo com maior pontua√ß√£o
            for (const group in scores) {
                if (scores[group] > maxScore) {
                    maxScore = scores[group];
                    resolvedGroup = group;
                } else if (scores[group] > 0 && scores[group] === maxScore) {
                    // Se houver empate, continua amb√≠guo
                    resolvedGroup = null; 
                    logStep(`> Contexto ainda amb√≠guo (empate).`, 'warning');
                    break;
                }
            }
            if (maxScore > 0) {
                return resolvedGroup; // Retorna o grupo vencedor (ou null se empatar)
            }
            return null; // Retorna null se pontua√ß√£o for 0
        }
        // 5. Fun√ß√£o Principal de Processamento (MODIFICADA)
        async function processWord() {
            const phrase = wordInput.value.trim().toLowerCase();
            if (!phrase) return;
            setButtonsDisabled(true);
            resetVisuals(); // Reseta o placeholder aqui
            logContent.innerHTML = ''; // Limpa o log
            logStep(`> Frase recebida: "${phrase}"`, 'info');
            wordToken.textContent = phrase.split(' ')[0]; // Mostra a primeira palavra
            wordToken.style.opacity = '1';
            
            // --- Anima√ß√£o Visual ---
            await delay(1000);
            logStep('> Tokenizando...', 'info');
            stepTokenizer.style.opacity = '1';
            await delay(1000);
            stepTokenizer.style.opacity = '0';
            // --- MUDAN√áA AQUI ---
            
            // 1. Gerar o vetor simulado
            const v1 = (Math.random()).toFixed(1);
            const v2 = (Math.random()).toFixed(1);
            const v3 = (Math.random()).toFixed(1);
            const v4 = (Math.random()).toFixed(1);
            const simulatedVector = `[${v1}, ${v2}, ${v3}, ${v4}]`;
            const vectorString = `Vetorizado = ${simulatedVector}`;
            // 2. Atualizar o log e o indicador visual
            logStep(`> ${vectorString}`, 'info'); 
            stepVectorizer.textContent = vectorString; // Define o novo texto
            stepVectorizer.style.opacity = '1';
            
            await delay(1500); // Aumentei o tempo para 1.5s
            stepVectorizer.style.opacity = '0';
            // --- FIM DA MUDAN√áA ---
            logStep('> Comparando com clusters de conhecimento...', 'info');
            await delay(500);
            // --- Fim Anima√ß√£o ---
            // --- NOVA L√ìGICA DE PROCESSAMENTO ---
            // 1. Encontra todas as palavras-chave e seus grupos
            const wordsInPhrase = [...new Set(phrase.split(' '))]; 
            let allFoundGroups = [];
            let allFoundKeywords = {}; // Para rastrear palavras amb√≠guas
            let primaryKeyword = ''; // A primeira palavra-chave encontrada
            for (const word of wordsInPhrase) {
                if (word.length <= 2) continue; 
                let groupsForThisWord = [];
                for (const groupName in llmKnowledgeBase) {
                    
                    // --- MUDAN√áA PRINCIPAL AQUI ---
                    // Antes: if (llmKnowledgeBase[groupName].includes(word)) {
                    // Agora: Verificamos se a palavra (ex: "mangas") come√ßa com uma palavra-chave (ex: "manga")
                    const keywordsInGroup = llmKnowledgeBase[groupName];
                    if (keywordsInGroup.some(keyword => word.startsWith(keyword))) {
                    // --- FIM DA MUDAN√áA ---
                        allFoundGroups.push(groupName);
                        groupsForThisWord.push(groupName);
                        if (!primaryKeyword) primaryKeyword = word; // Salva a primeira palavra-chave
                    }
                }
                
                if (groupsForThisWord.length > 1) {
                    allFoundKeywords[word] = groupsForThisWord;
                }
            }
            // Define qual palavra mostrar no token
            wordToken.textContent = primaryKeyword || phrase.split(' ')[0];
            // 2. Obt√©m lista de grupos √∫nicos
            const uniqueGroups = [...new Set(allFoundGroups)];
            // 3. Decide o que fazer
            
            // CASO A: Nenhum grupo encontrado
            if (uniqueGroups.length === 0) {
                logStep('> Nenhuma palavra-chave conhecida encontrada.', 'error');
                logStep('> Classificado em: [OUTROS]', 'info');
                moveToGroup('outros');
                setButtonsDisabled(false);
                wordInput.value = '';
                return;
            }
            // CASO B: Exatamente um grupo encontrado (n√£o amb√≠guo)
            if (uniqueGroups.length === 1) {
                const finalGroup = uniqueGroups[0];
                logStep(`> Palavras-chave apontam para um √∫nico grupo.`, 'info');
                logStep(`> Classificado em: [${finalGroup.toUpperCase()}]`, 'success');
                moveToGroup(finalGroup);
                setButtonsDisabled(false);
                wordInput.value = '';
                return;
            }
            // CASO C: Mais de um grupo encontrado (amb√≠guo, precisa de contexto)
            if (uniqueGroups.length > 1) {
                logStep(`> M√∫ltiplos grupos poss√≠veis: [${uniqueGroups.join(', ').toUpperCase()}]`, 'warning');
                logStep('> Tentando resolver ambiguidade com a frase de entrada...', 'info');
                await delay(500);
                let resolvedGroup = resolveContext(uniqueGroups, phrase);
                if (resolvedGroup) {
                    // Conseguiu resolver com a pr√≥pria frase!
                    logStep(`> Contexto da frase ajudou! Classificado em: [${resolvedGroup.toUpperCase()}]`, 'success');
                    moveToGroup(resolvedGroup);
                    setButtonsDisabled(false);
                    wordInput.value = '';
                } else {
                    // N√ÉO CONSEGUIU RESOLVER (ex: frase "banco" ou "manga")
                    logStep(`> Frase insuficiente para desambigua√ß√£o.`, 'error');
                    logStep('> Por favor, forne√ßa mais contexto.', 'warning');
                    
                    // Pega a primeira palavra amb√≠gua que encontrou
                    const firstAmbiguousWord = Object.keys(allFoundKeywords)[0] || "palavra";
                    wordToken.textContent = firstAmbiguousWord;
                    // --- MUDAN√áA AQUI ---
                    // Move o token visualmente para ficar entre os grupos em conflito
                    positionTokenBetweenGroups(uniqueGroups);
                    // --------------------
                    wordToken.classList.add('ambiguous');
                    wordInput.value = ''; // Limpa a caixa
                    
                    // Informa ao usu√°rio o que fazer
                    wordInput.placeholder = `"${firstAmbiguousWord}" √© amb√≠guo. Tente com mais contexto (ex: ${firstAmbiguousWord} da pra√ßa)`;
                    
                    setButtonsDisabled(false); 
                    wordInput.focus();
                }
                return;
            }
        }
        
        // 7. Fun√ß√£o de Anima√ß√£o Visual (MODIFICADA)
        function moveToGroup(groupName) {
            const groupElement = document.querySelector(`.group-bubble[data-group="${groupName}"]`);
            if (!groupElement) return;
            wordToken.classList.remove('ambiguous');
            // Calcula a posi√ß√£o central do grupo
            const groupRect = groupElement.getBoundingClientRect();
            const spaceRect = visualSpace.getBoundingClientRect();
            
            // Posi√ß√£o do token relativa ao visual-space
            const targetX = (groupRect.left - spaceRect.left) + (groupRect.width / 2);
            const targetY = (groupRect.top - spaceRect.top) + (groupRect.height / 2);
            // Move o token
            wordToken.style.left = `${targetX}px`;
            wordToken.style.top = `${targetY}px`;
            wordToken.style.opacity = '0'; // Faz o token desaparecer ao chegar
            
            // Atualiza o texto da bolha
            const word = wordToken.textContent;
            const originalText = groupElement.dataset.originalText;
            groupElement.innerHTML = `${originalText}<br><small style="font-weight:normal; background:rgba(0,0,0,0.3); padding: 2px 5px; border-radius: 4px; display: inline-block; margin-top: 5px;">${word}</small>`;
            
            // Destaca o grupo
            groupElement.classList.add('highlight');
        }
    </script>
    <div class="authors">
        <h4>Material produzido, apoiado por ferramentas de IA, por:</h4>
        <p>
            <strong>Rodrigo Aquino Silva - rodrigosilva@mppa.mp.br</strong><br>
            <span style="font-size: 0.704rem;">Promotor de Justi√ßa - Coordenador do Escrit√≥rio de Intelig√™ncia Artificial</span><br>
            <strong>Paulo Sergio Rodrigues Lima - paulolima@mppa.mp.br</strong><br>
            <span style="font-size: 0.704rem;">Assessor Especializado do Comit√™ de Inova√ß√£o e Intelig√™ncia Artificial</span>
        </p>
    </div>
    <footer>
        <div class="footer-top">
            <div class="footer-logo-slot">
                <img class="footer-logo-circular" src="img/logo-muiraquita.png" alt="Logo circular Muiraquit√£">
            </div>
            <div class="footer-logo">CIIA - Escrit√≥rio de Intelig√™ncia Artificial</div>
            <div class="footer-logo-slot">
                <img class="header-logo header-logo-rectangular" src="img/logo-mppa.png" alt="Logo retangular MPPA">
            </div>
        </div>
                <div class="footer-links">
                    <a href="index.html">In√≠cio</a>
                    <a href="prompts.html">Prompts</a>
                    <a class="active-link" href="llm.html">Simulador LLM</a>
                    <a href="videos.html">V√≠deos</a>
                    <a href="documentos.html">Documentos</a>
                </div>
        <div style="margin-top: 2rem; padding-top: 2rem; border-top: 1px solid rgba(255,255,255,0.2);">
            <p>Minist√©rio P√∫blico do Estado do Par√°</p>
            <p style="margin-top: 0.5rem;">Workshop: Intelig√™ncia Artificial Generativa - Aplicabilidade ao MPPA</p>
        </div>
    </footer>
</body>
</html>
